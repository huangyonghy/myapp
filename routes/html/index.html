<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Signin Template for Bootstrap</title>

    <!-- Bootstrap core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/css/signin.css" rel="stylesheet">
    <script type="text/javascript" src="/javascripts/jquery-1.3.2.min.js"></script>
  </head>

  <body class="text-center">
    <form class="form-signin">
      <img class="mb-4" src="/images/index_1.png" alt="" width="72" height="72">
      <h1 class="h3 mb-3 font-weight-normal">Please sign in</h1>
      <label for="inputName" class="sr-only">Type in your name</label>
      <input id="inputName" class="form-control" placeholder="Name" required autofocus>
      <label for="inputPassword" class="sr-only">Password</label>
      <input type="password" id="inputPassword" class="form-control" placeholder="Password" required>
      <button id="sign_in" class="btn btn-lg btn-primary btn-block" type="submit">Sign in</button>
      <p class="mt-5 mb-3 text-muted">&copy; 2017-2018</p>
    </form>
    <script>
      $(function () {
        $("#inputName").blur(function(){
           $("#names").empty();
           var name = $(this).val();
           if(name=="" || name==null){
              $("#inputName").after("<span id='names' style='color: red'>用户名不能为空</span>");
            }
        });
       $("#inputPassword").blur(function(){
           $("#pwds").empty();
            var pwd = $(this).val();
            if(pwd==""|| pwd==null){
                $("#pwd").after("<span id='pwds' style='color: red'>密码不能为空</span>");
            }
        });
       $("#sign_in").click(function () {
          var name = $("#inputName").val();
          var pwd = $("#inputPassword").val();
          $("#sub").empty();
          $.post("/login",{"username":name,"password":pwd},function(err, data){
           if(data){
               window.location.href="/login"
           }else {
               $("#sign_in").after("<span id='sub' style='color: red' >用户名密码错误</span>");
           }
       })
    </script>
  </body>
</html>

